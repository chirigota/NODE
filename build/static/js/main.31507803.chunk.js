(this["webpackJsonpchirigota-team"]=this["webpackJsonpchirigota-team"]||[]).push([[0],{175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},187:function(e,t,a){},232:function(e,t,a){},287:function(e,t,a){e.exports=a(536)},292:function(e,t,a){},293:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},38:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(40),l=a.n(c),o=(a(292),a(6)),i=a(7),s=a(8),u=a(49),m=a(10),p=a(9),d=a(77),h=a(21),f=a.n(h),b=a(540),g=a(545),v=a(546),E=a(547),j=Object(n.createContext)(),O=j.Provider,y=j.Consumer,k=j,N=(a(293),a(50)),C=(a(294),a(296),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={vehicle:[{vehicle:"car",color:"purple"},{vehicle:"bike",color:"green"},{vehicle:"foot",color:"blue"},{vehicle:"hike",color:"darkblue"},{vehicle:"mtb",color:"darkgreen"},{vehicle:"racingbike",color:"black"},{vehicle:"scooter",color:"blue"},{vehicle:"truck",color:"blue"},{vehicle:"small_truck",color:"blue"}]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.createLeafletElement()}},{key:"createLeafletElement",value:function(){var e=[{vehicle:"car",color:"purple"},{vehicle:"bike",color:"green"},{vehicle:"foot",color:"blue"},{vehicle:"hike",color:"darkblue"},{vehicle:"mtb",color:"darkgreen"},{vehicle:"racingbike",color:"black"},{vehicle:"scooter",color:"blue"},{vehicle:"truck",color:"blue"},{vehicle:"small_truck",color:"blue"}],t=f.a.Routing.control({waypoints:[f.a.latLng(this.props.pointA.lat,this.props.pointA.lon),f.a.latLng(this.props.pointB.lat,this.props.pointB.lon)],router:new f.a.Routing.graphHopper("1a74686f-220e-43c4-9da7-363a1639a13e",{urlParameters:{vehicle:e[2].vehicle,locale:"es"}}),lineOptions:{styles:[{color:e[2].color,opacity:.6,weight:4}],addWaypoints:!1},routeWhileDragging:!0,addWaypoints:!0,draggableWaypoints:!0,fitSelectedRoutes:!0,showAlternatives:!1}).addTo(this.props.map.leafletElement);t.hide(),t.on("routeselected",(function(e){return console.log(e.route.instructions)}))}},{key:"render",value:function(){return!1}}]),a}(n.Component)),x=Object(N.b)(C),S=a(158),w=a.n(S),T=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100vw"}},r.a.createElement("div",{className:"wrapper",style:{margin:"20px"}},r.a.createElement(w.a,{items:this.props.items,itemsWide:this.props.items.length,infinity:!0,arrowStyle:{display:"none"}})))}}]),a}(n.Component),I=(a(305),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={selected:"",places:[],askForPlaces:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log("this.contextType",this.contextType),this.state.selected&&this.setState(Object(o.a)({},this.contextType))}},{key:"generateCards",value:function(e,t){return e.map((function(e){return r.a.createElement("div",{className:"slider",onClick:function(){t.selectPlace(e,"/store")}},r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{className:"imageSlider",alt:"",src:e.url_photo})),r.a.createElement("h1",{className:"h1Slider"},e.place_name),r.a.createElement("div",{className:"occupationContainer"},r.a.createElement("div",{className:"occupationMarker ".concat(e.occupation<=50?"green":e.occupation<=75?"yellow":"red")}),r.a.createElement("p",{className:"pSliderOccupation"},e.occupation<=50?"Ocupaci\xf3n baja":e.occupation<=75?"Ocupaci\xf3n media":"Ocupaci\xf3n alta")))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"footer-container"},r.a.createElement(y,null,(function(t){return console.log("context que me pari\xf3",!e.state.places),!e.state.askForPlaces&&t.coords&&void 0!==t.selected&&(e.setState(Object(o.a)(Object(o.a)({},e.state),{},{askForPlaces:!0})),fetch("http://localhost:3001/getStores/".concat(t.coords.latitude,"/").concat(t.coords.longitude,"/").concat(t.selected)).then((function(e){return e.json()})).then((function(t){t.map((function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{places:[].concat(Object(d.a)(e.state.places),[t])}))}))}))),r.a.createElement(r.a.Fragment,null,e.state.places&&r.a.createElement(T,{items:e.generateCards(e.state.places,t)}))})))}}]),a}(n.Component));I.contextType=k;var P=I,M=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={markers:[],pointA:{x:40.41695,y:-3.7037602},routeRendered:!1,selected:0},e.generateMarker=e.generateMarker.bind(Object(u.a)(e)),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("this.context",this.context),this.context.coords&&(this.setState(Object(o.a)(Object(o.a)({},this.context),{},{markers:[].concat(Object(d.a)(this.state.markers),[{position:[this.context.coords.latitude,this.context.coords.longitude],popup:"usuario"}])})),fetch("http://localhost:3001/getStores/".concat(this.context.coords.latitude,"/").concat(this.context.coords.longitude,"/").concat(this.context.selected)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState(Object(o.a)(Object(o.a)({},e.state),{},{markers:[].concat(Object(d.a)(e.state.markers),Object(d.a)(t.map((function(e){return Object(o.a)({position:[parseFloat(e.lat),parseFloat(e.lng)],popup:e.place_name,color:e.occupation<50?"verde":e.occupation<=75?"amarillo":"rojo"},e)}))))}))})))}},{key:"removeMarker",value:function(e){var t=Array.from(this.state.markers);t.splice(e,1),this.setState(Object(o.a)(Object(o.a)({},this.state),{},{markers:t}))}},{key:"printMarker",value:function(){var e=this;return this.state.markers.map((function(t,a){var n=a===e.state.selected?50:30;return console.log(t.color),r.a.createElement(b.a,{position:t.position,key:a,icon:f.a.icon({iconUrl:"images/landmark-".concat(t.color?t.color:"user","-20.svg"),iconSize:[n,n]}),onContextMenu:function(){return e.removeMarker(a)}},r.a.createElement(g.a,null,t.popup))}))}},{key:"generateMarker",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{markers:[].concat(Object(d.a)(this.state.markers),[{position:[e.latlng.lat,e.latlng.lng],popup:"A\xf1adido con click"}])}))}},{key:"instantiateMap",value:function(e){this.state.map||this.setState(Object(o.a)(Object(o.a)({},this.state),{},{map:e}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(y,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"colorContainer"}),r.a.createElement("div",{className:"arrowContainer"},r.a.createElement("a",{href:"/",className:"arrowBack"},r.a.createElement("img",{className:"iconArrowMap",src:"images/arrow.png",alt:"atr\xe1s",style:{width:"50 %",display:"flex",flexDirection:"row"}})),r.a.createElement("button",{onClick:function(){return e.redirectTo("/profile")},className:"btnProfile"},r.a.createElement("img",{id:"profileLogo",src:"images/perfil-32.svg",alt:"profile-icon"}))))})),r.a.createElement(v.a,{center:[40.416775,-3.70379],zoom:15,maxZoom:19,zoomControl:!1,onDblClick:this.generateMarker,ref:this.instantiateMap.bind(this)},r.a.createElement(E.a,{url:"https://{s}.tile.jawg.io/jawg-terrain/{z}/{x}/{y}{r}.png?access-token=wmpmiE7gyJPKgHi1lGV8y5uY3jF26Xno7lfGHFLVsRXUkR68hm701leqj8Nr4eb4",attribution:'<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">\xa9 <b>Jawg</b>Maps</a> \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),!this.props.renderRoute&&this.printMarker(),r.a.createElement(y,null,(function(t){return(!e.props.renderRoute&&void 0===t.selected||e.props.renderRoute&&!t.selectedPlace||!t.coords)&&t.redirectTo("/"),console.log(t.coords,t.selectedPlace),r.a.createElement(r.a.Fragment,null,e.props.renderRoute&&r.a.createElement(x,{pointA:{lat:t.coords.latitude,lon:t.coords.longitude},pointB:{lat:t.selectedPlace.lat,lon:t.selectedPlace.lng},map:e.state.map}))}))),!this.props.renderRoute&&r.a.createElement(y,null,(function(e){return r.a.createElement("div",{className:"hola",style:{width:"100vw"}},r.a.createElement(P,null))}))))}}]),a}(n.Component);M.contextType=k;var R=a(95),A=(n.Component,function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null))}))}}]),a}(n.Component)),B=a(19),F=a(160),q=(a(306),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(y,null,(function(t){return r.a.createElement("div",{className:"categoryDisplayer",onClick:function(){t.selectCategory(e.props.data.id,"/map",{x:0,y:0})}},r.a.createElement("img",{width:89,height:89,src:e.props.data.img,alt:e.props.data.name}),r.a.createElement("p",null,e.props.data.name))}))}}]),a}(n.Component)),D=(a(307),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={categories:[]},n}return Object(s.a)(a,[{key:"getCategories",value:function(){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{categories:R.a}))}},{key:"displayCategories",value:function(){return this.state.categories.map((function(e,t){return r.a.createElement(q,{data:e,id:t,key:t})}))}},{key:"componentDidMount",value:function(){this.getCategories()}},{key:"render",value:function(){var e=this.displayCategories();return r.a.createElement("section",{className:"CategoryList"},r.a.createElement("div",null,e))}}]),a}(n.Component)),G=(a(308),a(42)),U=a.n(G),z=a(55),L=a(68);a(309);function V(){return(V=Object(L.a)(U.a.mark((function e(t,a,n,r){var c,l,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\xb4"!=(c=t.target.value)[c.length-2]||!"aeiou".includes(c[c.length-1])){e.next=15;break}e.t0=c[c.length-1],e.next="a"===e.t0?5:"e"===e.t0?7:"i"===e.t0?9:"o"===e.t0?11:"u"===e.t0?13:14;break;case 5:return l="\xe1",e.abrupt("break",14);case 7:return l="\xe9",e.abrupt("break",14);case 9:return l="\xed",e.abrupt("break",14);case 11:return l="\xf3",e.abrupt("break",14);case 13:l="\xfa";case 14:c=c.substr(0,c.length-2)+l;case 15:return console.log(c.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),e.prev=16,e.next=19,fetch("http://localhost:3001/street/".concat(c===r.defaultValue?"":c));case 19:return i=e.sent,e.next=22,i.json();case 22:i=e.sent,n(Object(o.a)(Object(o.a)({},a),{},{value:c,data:i})),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(16),n(Object(o.a)(Object(o.a)({},a),{},{value:c}));case 29:case"end":return e.stop()}}),e,null,[[16,26]])})))).apply(this,arguments)}function W(e,t,a,n,r){"Tu ubicaci\xf3n"===r&&(r="Ubicaci\xf3n actual"),n.changeFocus&&(clearTimeout(n.changeFocus),n.changeFocus=void 0),a.selectOption(r),t(Object(o.a)(Object(o.a)({},e),{},{focused:!1,selectedValue:r,value:r}))}function H(e,t,a,n,r,c){" "===e.key&&W(t,a,n,r,c)}function J(e,t,a,n,r){return _.apply(this,arguments)}function _(){return(_=Object(L.a)(U.a.mark((function e(t,a,n,r,c){var l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.data,!r.changeFocus){e.next=6;break}clearTimeout(r.changeFocus),r.changeFocus=void 0,e.next=12;break;case 6:return e.next=8,fetch("http://localhost:3001/street/".concat(t.value===c.defaultValue?"":t.value));case 8:return e.next=10,e.sent.json();case 10:l=e.sent,r.input.select();case 12:a(Object(o.a)(Object(o.a)({},t),{},{focused:n,data:l}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(e){var t=Object(n.useState)({value:"",selectedValue:"",focused:!1}),a=Object(z.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){var t=e.defaultValue||"";l(Object(o.a)(Object(o.a)({},c),{},{value:t,selectedValue:t}))}),[e.defaultValue]);var i="Select".concat(Math.floor(99999*Math.random())),s={global:void 0,input:void 0,arrow:void 0,changeFocus:void 0};return r.a.createElement("div",{className:"input customSelect ".concat(c.focused&&"focus"),role:"listbox",ref:function(e){return s.global=e}},r.a.createElement("label",{htmlFor:i},e.label),r.a.createElement("input",{type:e.type?e.type:"text",onFocus:function(){return J(c,l,!0,s,e)},onBlur:function(){return s.changeFocus=setTimeout((function(){return J(c,l,!1,s,e)}),100)},placeholder:e.placeholder||"Select...","aria-required":!0===e.required,ref:function(e){return s.input=e},id:i,value:c.value,onChange:function(t){return function(e,t,a,n){return V.apply(this,arguments)}(t,c,l,e)}}),r.a.createElement("div",{className:"searchIcon",ref:function(e){return s.arrow=e},onClick:function(){return function(e,t,a){e.focused?t(Object(o.a)(Object(o.a)({},e),{},{focused:!1})):a.input.focus()}(c,l,s)}},r.a.createElement("img",{src:"/IMG/lupaWhite.svg",alt:"Im\xe1gen de una lupa"})),c.focused&&r.a.createElement("section",{className:"scroll"},function(e,t,a,n){var c=e.data&&e.data.map((function(c,l){return r.a.createElement("div",{key:l+1,onKeyUp:function(r){return H(r,e,t,a,n,c)},onClick:function(){return W(e,t,a,n,c)},onFocus:function(){return J(e,t,!0,n,a)},onBlur:function(){return n.changeFocus=setTimeout((function(){return J(e,t,!1,n,a)}),100)},tabIndex:0},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:"/IMG/lupa.svg",alt:"Im\xe1gen de una lupa"})),r.a.createElement("p",null,c))}));return c&&c.length>0&&c.unshift(r.a.createElement("hr",{key:-1})),c.unshift(r.a.createElement("div",{key:0,onKeyUp:function(r){return H(r,e,t,a,n,"Tu ubicaci\xf3n")},onClick:function(){return W(e,t,a,n,"Tu ubicaci\xf3n")},onFocus:function(){return J(e,t,!0,n,a)},onBlur:function(){return n.changeFocus=setTimeout((function(){return J(e,t,!1,n,a)}),100)},tabIndex:0},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:"/IMG/ubicacion.svg",alt:"Im\xe1gen de una diana"})),r.a.createElement("p",null,"Tu ubicaci\xf3n"))),c}(c,l,e,s)))},K=(a(175),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"rectangle2"},r.a.createElement(y,null,(function(e){return r.a.createElement("button",{onClick:function(){return e.redirectTo("/profile")},className:"btnProfile"}," ",r.a.createElement("img",{id:"profileLogo",src:"images/perfil-32.svg",alt:"profile-icon"}))})))}}]),a}(n.Component)),Y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"handleStreet",value:function(e){var t=this;console.log("La nueva calle es:",e),"Ubicaci\xf3n actual"===e?navigator.geolocation.getCurrentPosition((function(e){console.log("soy: ",e.coords.latitude),t.setState(Object(o.a)(Object(o.a)({},t.state),{},{coords:{latitude:e.coords.latitude,longitude:e.coords.longitude}}))})):(fetch("https://nominatim.openstreetmap.org/search?q=".concat(e.replace(" ","+"),",Madrid,Espa\xf1a&format=json")).then((function(e){return e.json()})).then((function(e){e[0]?t.setState(Object(o.a)(Object(o.a)({},t.state),{},{coords:{latitude:e[0].lat,longitude:e[0].lon}})):navigator.geolocation.getCurrentPosition((function(e){t.setState(Object(o.a)(Object(o.a)({},t.state),{},{coords:{latitude:e.coords.latitude,longitude:e.coords.longitude}}))}))})).catch((function(e){return console.log(e)})),console.log("fuera del fetch",e))}},{key:"componentDidMount",value:function(){var e=this;this.state.coords||navigator.geolocation.getCurrentPosition((function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{coords:{latitude:t.coords.latitude,longitude:t.coords.longitude}}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"selectCategory"},r.a.createElement(y,null,(function(t){console.log("de algo"),console.log(t.coords,e.state.coords),!e.state.coords||t.coords&&e.state.coords.longitude===t.coords.longitude&&e.state.coords.latitude===t.coords.latitude||t.selectStreet(e.state.coords)})),r.a.createElement("h1",null,"Seleccione ubicaci\xf3n y categor\xeda"),r.a.createElement("h2",null,"Ubicaci\xf3n"),r.a.createElement(Q,{selectOption:this.handleStreet.bind(this),defaultValue:"Ubicaci\xf3n Actual"}),r.a.createElement("h2",null,"Categor\xedas"),r.a.createElement(D,null),r.a.createElement(K,null))}}]),a}(n.Component),X=r.a.createContext(),Z=(X.Provider,X.Consumer,X),$=(a(38),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={step:1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{maxWidth:"414px",maxHeight:"736px"}},r.a.createElement("img",{className:"backapp",src:"images/backg0.png",alt:"backapp3",style:{width:"100%"}}),r.a.createElement(Z,null,(function(t){return r.a.createElement("button",{className:"btnStart",onClick:function(){return t.getStep(e.state.step)}},"Comenzar")})))}}]),a}(n.Component)),ee=(a(176),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"logoContainer"},r.a.createElement("img",{id:"logo",src:"images/logo-sin-fondo.svg",alt:"logoapp"}))}}]),a}(n.Component)),te=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={step:1},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement(ee,null),r.a.createElement("div",{className:"text1"},r.a.createElement("div",{className:"onboardingtext"},r.a.createElement("p",{className:"one"},"Ahora puedes saber cu\xe1nta "),r.a.createElement("p",{className:"two"},"gente hay en tus tiendas "),r.a.createElement("p",{className:"three"},"favoritas y elegirlas en funci\xf3n "),r.a.createElement("p",{className:"four"},"de su aforo."),r.a.createElement("p",{className:"five"},"\xbfQuieres saber c\xf3mo?"))),r.a.createElement($,null))}}]),a}(n.Component),ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={nextStep:!0,prevStep:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("img",{className:"backapp",src:"images/backg0.png",alt:"backapp3",style:{width:"100%"}}),r.a.createElement(Z,null,(function(t){return r.a.createElement("div",null,r.a.createElement("button",{className:"btnNext",onClick:function(){return t.calculateStep(e.state.nextStep)}},"Siguiente"),r.a.createElement("button",{className:"btnBack",onClick:function(){return t.calculateStep(e.state.prevStep)}},"Atr\xe1s"))})))}}]),a}(n.Component),ne=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"/login"},"Saltar")," "),r.a.createElement("div",null,r.a.createElement("h1",{className:"obTitle"},"1")),r.a.createElement("h2",{className:"hOb"},"Elige ",r.a.createElement("br",null),"ubicaci\xf3n"),r.a.createElement("div",{className:"textContainer"},r.a.createElement("p",{className:"pOb"},"En la pantalla principal utiliza el buscador para indicar la zona de b\xfasqueda")),r.a.createElement(ae,null))}}]),a}(n.Component),re=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"/login"},"Saltar")," "),r.a.createElement("div",null,r.a.createElement("h1",{className:"obTitle"},"2")),r.a.createElement("h2",{className:"hOb"},"Elige ",r.a.createElement("br",null),"categor\xeda"),r.a.createElement("p",{className:"pOb"},"Selecciona el tipo de comercio al que te quieres dirigir"),r.a.createElement(ae,null))}}]),a}(n.Component),ce=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"/login"},"Saltar")," "),r.a.createElement("div",null,r.a.createElement("h1",{className:"obTitle"},"3")),r.a.createElement("h2",{className:"hOb"},"Revisa la ",r.a.createElement("br",null),"ocupaci\xf3n"),r.a.createElement("p",{className:"pOb"},"En el mapa te mostraremos los comercios m\xe1s cercanos y podr\xe1s ver su ocupaci\xf3n a tiempo real"),r.a.createElement(ae,null))}}]),a}(n.Component),le=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"/login"},"Saltar")," "),r.a.createElement("div",null,r.a.createElement("h1",{className:"obTitle"},"4")),r.a.createElement("h2",{className:"hOb"},"Elige local y visualiza ruta"),r.a.createElement("p",{className:"pOb"},"Ay\xfadate del c\xf3digo de color para ver la ocupaci\xf3n e inicia la ruta para llegar a tu destino"),r.a.createElement(ae,null))}}]),a}(n.Component),oe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"/login"},"Saltar")," "),r.a.createElement("div",null,r.a.createElement("h1",{className:"obTitle"},"5")),r.a.createElement("div",{className:"text1"},r.a.createElement("h2",{className:"hOb"},"Elige con responsabilidad"),r.a.createElement("p",{className:"pOb"},"Sabemos que te gustan tus tiendas de siempre, pero si est\xe1n rojo, te recomendamos elegir otro establecimiento.")),r.a.createElement(ae,null))}}]),a}(n.Component),ie=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"/login"},"Saltar")," "),r.a.createElement("div",null,r.a.createElement("h1",{className:"obTitle"},"6")),r.a.createElement("div",{className:"text1"},r.a.createElement("h2",{className:"hOb"},"Lee tu c\xf3digo ",r.a.createElement("br",null),"QR"),r.a.createElement("p",{className:"pOb"},'Cuando termines de hacer tu compra, ve a tu perfil, pincha sobre "generador de QR" y mu\xe9straselo al vendedor.')),r.a.createElement(ae,null))}}]),a}(n.Component),se=(n.Component,a(177),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={step:0},e.getStep=e.getStep.bind(Object(u.a)(e)),e.calculateStep=e.calculateStep.bind(Object(u.a)(e)),e}return Object(s.a)(a,[{key:"getStep",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{step:e}))}},{key:"calculateStep",value:function(e){if(!0===e){var t=this.state.step+1;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{step:t}))}else{var a=this.state.step-1;this.setState(Object(o.a)(Object(o.a)({},this.state),{},{step:a}))}}},{key:"renderSteps",value:function(){return 0===this.state.step?r.a.createElement(te,null):1===this.state.step?r.a.createElement(ne,null):2===this.state.step?r.a.createElement(re,null):3===this.state.step?r.a.createElement(ce,null):4===this.state.step?r.a.createElement(le,null):5===this.state.step?r.a.createElement(oe,null):6===this.state.step?r.a.createElement(ie,null):window.location.href="/login"}},{key:"render",value:function(){return r.a.createElement("div",{className:"onBoardingContainer"},r.a.createElement(Z.Provider,{value:{getStep:this.getStep,calculateStep:this.calculateStep}},this.renderSteps()))}}]),a}(n.Component)),ue=a(544),me=a(121),pe=(a(319),me.initializeApp({apiKey:"AIzaSyAOPVxZSS8NuHfJJNj9sYYEHaai3Dv4LSc",authDomain:"mapator-3bc03.firebaseapp.com",databaseURL:"https://mapator-3bc03.firebaseio.com",projectId:"mapator-3bc03",storageBucket:"mapator-3bc03.appspot.com",messagingSenderId:"1029740031742",appId:"1:1029740031742:web:993a7c31acd725d49f3faf",measurementId:"G-TG9TQ0NB3S"})),de=a(541);function he(){var e=ue.a.Content;return r.a.createElement(ue.a,{style:{height:"100vh"}},r.a.createElement(e,{style:{padding:"0 50px",marginTop:40,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(de.a,{size:"large"})))}var fe=r.a.createContext(),be=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(z.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(z.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){pe.auth().onAuthStateChanged((function(e){o(e),m(!0)}))}),[]),u?r.a.createElement(fe.Provider,{value:{user:l}},t):r.a.createElement(he,null)},ge=Object(B.g)((function(e){var t=e.history,a=(ue.a.Content,ue.a.Footer,Object(n.useContext)(fe).user),c=Object(n.useState)(null),l=Object(z.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){null===a&&t.push("/login"),a?a.displayName?i(a.displayName):i(a.email):i(null)}),[t,a]),r.a.createElement("div",{className:"profileContainer"},r.a.createElement("div",null,r.a.createElement("a",{href:"/",className:"arrowBack"},r.a.createElement("img",{className:"iconArrowProfile",src:"images/arrow.png",alt:"atr\xe1s",style:{width:"100 %",display:"flex",flexDirection:"row"}}))),r.a.createElement("p",{className:"profileTitle"},o),r.a.createElement(y,null,(function(e){return r.a.createElement("div",{className:"profileTextContainer"},r.a.createElement("a",{className:"profileText",onClick:function(){return e.redirectTo("/qrgenerator")}},"Generador de QR"),r.a.createElement("a",{className:"profileText",onClick:function(){return e.redirectTo("/points")}},"Mis puntos"),r.a.createElement("a",{className:"profileText",onClick:function(){return e.redirectTo("/favoritos")}},"Mis favoritos"),r.a.createElement("a",{className:"profileText",onClick:function(){return e.redirectTo("/ajustes")}},"Ajustes de Perfil"),r.a.createElement("a",{className:"profileText",onClick:function(){return e.redirectTo("/ayuda")}},"Ayuda"))})),r.a.createElement("div",{className:"close"},r.a.createElement("button",{className:"btnClose",onClick:function(){return pe.auth().signOut()}},"Cerrar Sesi\xf3n")),r.a.createElement(K,null))})),ve=a(542),Ee=a(543),je=a(168),Oe=a(114),ye=(a(187),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={name:"",surname:"",user:"",passw:""},n.handleInput=n.handleInput.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"handleSignUp",value:function(){var e=Object(L.a)(U.a.mark((function e(t){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("registering"),t.preventDefault(),a=this.state,n=a.user,r=a.passw,e.next=5,pe.auth().createUserWithEmailAndPassword(n,r).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleInput",value:function(e,t){this.setState(Object(o.a)(Object(o.a)({},this.state),{},Object(Oe.a)({},t,e.target.value)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sOaB"},r.a.createElement("img",{id:"logoColor",src:"images/logoBlack.svg"}),r.a.createElement("div",{className:"formRegister"},r.a.createElement("form",{onSubmit:this.handleSignUp.bind(this)},r.a.createElement("input",{className:"inputRegister",type:"text",name:"name",placeholder:"Nombre",value:this.state.name,onChange:function(t){return e.handleInput(t,"name")}}),r.a.createElement("input",{className:"inputRegister",type:"text",name:"surname",placeholder:"Apellidos",value:this.state.surname,onChange:function(t){return e.handleInput(t,"surname")}}),r.a.createElement("input",{className:"inputRegister",type:"text",name:"user",placeholder:"Email",value:this.state.user,onChange:function(t){return e.handleInput(t,"user")}}),r.a.createElement("input",{className:"inputRegister",type:"password",name:"passw",placeholder:"Contrase\xf1a",value:this.state.passw,onChange:function(t){return e.handleInput(t,"passw")}}),r.a.createElement("input",{className:"inputRegister",type:"password2",name:"passw2",placeholder:"Repite contrase\xf1a"}),r.a.createElement("button",{className:"btnRegister"},"Registrarse"))))}}]),a}(n.Component)),ke=Object(B.g)(ye),Ne=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"rectangle"})}}]),a}(n.Component),Ce=Object(B.g)((function(e){var t=e.history,a=new me.auth.GoogleAuthProvider,c=ue.a.Content,l=Object(n.useState)(!1),o=Object(z.a)(l,2),i=o[0],s=o[1],u=Object(n.useContext)(fe).user,m=Object(n.useState)(""),p=Object(z.a)(m,2),d=(p[0],p[1]);Object(n.useEffect)((function(){u&&t.push("/")}),[t,u]);var h=function(){var e=Object(L.a)(U.a.mark((function e(a){var n,r,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.user,c=n.password,e.next=4,pe.auth().signInWithEmailAndPassword(r.value,c.value).then((function(e){console.log(e),t.push("/")})).catch((function(e){d(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(L.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.auth().signInWithPopup(t).then((function(e){console.log(e)})).catch((function(e){d(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(c,{style:{display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Roboto"}},r.a.createElement("div",{style:{textAlign:"center",flexDirection:"column",justifyContent:"center",display:"flex",fontFamily:"Roboto",width:"100%"}},i?r.a.createElement(ke,{setsignup:s,className:"signUpForm"}):r.a.createElement(ve.a,{className:"login-form",style:{marginBottom:"0%"},onSubmit:h},r.a.createElement("img",{id:"logoColor",src:"images/logoBlack.svg"}),r.a.createElement(ve.a.Item,null,r.a.createElement(Ee.a,{className:"inputUser",name:"user",placeholder:"Introduce tu email"})),r.a.createElement(ve.a.Item,null,r.a.createElement(Ee.a,{className:"inputPassw",name:"password",type:"password",placeholder:"Introduce tu Contrase\xf1a"})),r.a.createElement("p",{id:"forget"},"\xbfHas olvidado la contrase\xf1a?"),r.a.createElement(ve.a.Item,null,r.a.createElement(je.a,{type:"primary",htmlType:"submit",className:"btnLog"},"Iniciar sesi\xf3n"),r.a.createElement(je.a,{type:"primary",htmlType:"submit",className:"btnNoUser",onClick:function(){return t.push("/")}},"Ingresar sin usuario"),r.a.createElement("p",null,"\xbfTodav\xeda no est\xe1s registrado?"),r.a.createElement("p",{id:"here",style:{fontFamily:"Roboto",fontStyle:"normal",fontWeight:"500",fontSize:"24px",lineHeight:"28px"},onClick:function(){return s(!0)},type:"link"},"Reg\xedstrate aqu\xed")),r.a.createElement(ve.a.Item,null,r.a.createElement(je.a,{id:"btnAccess",onClick:function(){return f(a)}},r.a.createElement("img",{id:"google",src:"images/google-32.png",style:{width:"15%"}}),r.a.createElement("p",{id:"access"},"Reg\xedstrate con Google ")))))),r.a.createElement(Ne,null))})),xe=Object(B.g)((function(e){var t=e.history;return r.a.createElement("div",{className:"errorContainer"},r.a.createElement("div",{className:"errorTextAlert"},r.a.createElement("h1",{className:"errorNumber"},"404"),r.a.createElement("div",{className:"errorImage"},r.a.createElement("img",{src:"images/marginalia-location-access-3.png",alt:"404"})),r.a.createElement("h2",{className:"errorText"},"not found")),r.a.createElement("button",{className:"btnError",onClick:function(){t.push("/login")}},"Volver"))})),Se=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"pointsContainer"},r.a.createElement("img",{id:"points",src:"images/medal-1.jpg",alt:"medalla"}),r.a.createElement("h2",{className:"pointsEarned"},"\xa110 puntos!"),r.a.createElement("p",{className:"pointsText"},"Muchas gracias por visitar un establecimiento con baja ocupaci\xf3n."),r.a.createElement("p",{className:"pointsText2"},"\xa1Te esperamos pronto!"),r.a.createElement("button",{className:"sumAndClose"},"Acumular y cerrar"))}}]),a}(n.Component),we=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"qrContainer"},r.a.createElement("div",{className:"qrHeader"},r.a.createElement("div",null," ",r.a.createElement("a",{href:"/",className:"iconArrowQR"},r.a.createElement("img",{className:"iconArrow2",src:"images/arrow.png",alt:"atr\xe1s"}))),r.a.createElement("h2",{className:"qrTitle"},"Generador de QR")),r.a.createElement("div",{className:"qrCode"},r.a.createElement("img",{className:"qrCodeImg",src:"images/qrcode.png",alt:"c\xf3digo qr"})),r.a.createElement("p",{className:"qrText"},"Muestra este c\xf3digo al pagar para obtener tus puntos"),r.a.createElement("div",{className:"qrFooter"},r.a.createElement(K,null)))}}]),a}(n.Component),Te=a(90),Ie=(a(232),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("select",{className:"selectDay",value:this.props.value,onChange:this.props.select},r.a.createElement("option",{value:"monday"},"lunes"),r.a.createElement("option",{value:"tuesday"},"martes"),r.a.createElement("option",{value:"wednesday"},"mi\xe9rcoles"),r.a.createElement("option",{value:"thursday"},"jueves"),r.a.createElement("option",{value:"friday"},"viernes"),r.a.createElement("option",{value:"saturday"},"s\xe1bado"),r.a.createElement("option",{value:"sunday"},"domingo"))}}]),a}(n.Component)),Pe=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={value:"monday"},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return console.log(),r.a.createElement("div",null,r.a.createElement("p",{className:"popularTiming"},"Horarios populares: ",r.a.createElement(Ie,{value:this.state.value,select:function(t){return e.setState(Object(o.a)(Object(o.a)({},e.state),{},{value:t.target.value}))},style:{background:"transparent",color:"white",outline:"none",border:"none"}})," "),r.a.createElement(Te.b,{width:370,height:150,data:this.props.data[this.state.value].substr(1,this.props.data[this.state.value].length).split(", ").splice(7,14).map((function(e,t){return{name:"".concat(t+8),uv:e}})),margin:{top:10,right:30,left:20,bottom:5}},r.a.createElement(Te.e,{dataKey:"name",height:50}),r.a.createElement(Te.d,null),r.a.createElement(Te.c,null),r.a.createElement(Te.a,{dataKey:"uv",fill:"#00B3BD",radius:[4,4,0,0]})))}}]),a}(n.PureComponent);Pe.jsfiddleUrl="https://jsfiddle.net/alidingling/30763kr7/";a(535);var Me=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y,null,(function(e){if(e.selectedPlace)return r.a.createElement("div",{className:"storeContainer"},r.a.createElement("a",{onClick:function(){return e.redirectTo("/map")},className:"storeArrowBack"},r.a.createElement("img",{className:"iconStoreArrowBack",src:"images/arrow.png",alt:"atr\xe1s",style:{width:"100 %",display:"flex",flexDirection:"row"}})),r.a.createElement("div",{className:"storePicContainer"},r.a.createElement("img",{className:"storePic",src:e.selectedPlace.url_photo,alt:"foto de comercio"})),r.a.createElement("div",{className:"storeInfoContainer"},r.a.createElement("p",{className:"storeName"},e.selectedPlace.place_name,r.a.createElement("img",{className:"heart",src:"images/corazon-20.svg",alt:"coraz\xf3n"})),r.a.createElement("p",{className:"storeType"},R.a.filter((function(t){return t.id==e.selectedPlace.type}))[0].name),r.a.createElement("p",{className:"storeAddress"},e.selectedPlace.address),r.a.createElement("div",{className:"storeRanking"},r.a.createElement("p",{className:"storeAvailability"},r.a.createElement("img",{className:"storeMarker",src:"images/landmark-verde-20.svg",alt:"c\xedrculo"}),"Ahora hay poca gente"),r.a.createElement("p",{className:"storeStars"},r.a.createElement("img",{className:"storeStar",src:"images/estrella-16.svg",alt:"estrella"}),"".concat(e.selectedPlace.rating[0]," (").concat(e.selectedPlace.rating[1],")"))),r.a.createElement("div",{className:"storeGrafic"}),r.a.createElement(Pe,{data:e.selectedPlace}),r.a.createElement("button",{className:"btnRoute",onClick:function(){return e.redirectTo("/route")}},"Ver ruta")));e.redirectTo("/")}))}}]),a}(n.Component),Re=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(M,{renderRoute:!0})}}]),a}(n.Component),Ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={selected:void 0,redirectTo:void 0,pointB:void 0,coords:void 0,place:void 0},n.redirectTo=n.redirectTo.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"redirectTo",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{redirectTo:e}))}},{key:"getRedirection",value:function(){var e=this.state.redirectTo;return this.setState(Object(o.a)(Object(o.a)({},this.state),{},{redirectTo:void 0})),r.a.createElement(B.a,{to:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(O,{value:{pointB:this.state.pointB,selected:this.state.selected,redirectTo:this.redirectTo,coords:this.state.coords,selectStreet:function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{coords:t})),console.log(t)},selectCategory:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.setState(Object(o.a)(Object(o.a)({},e.state),{},{selected:t,redirectTo:a,pointB:n}))},selectPlace:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;e.setState(Object(o.a)(Object(o.a)({},e.state),{},{place:t,redirectTo:a}))},selectedPlace:this.state.place}},r.a.createElement(be,null,r.a.createElement(F.a,null,this.state.redirectTo&&this.getRedirection(),r.a.createElement(B.d,null,r.a.createElement(B.b,{exact:!0,path:"/login"},r.a.createElement(Ce,null)),r.a.createElement(B.b,{exact:!0,path:"/onboarding"},r.a.createElement(se,null)),r.a.createElement(B.b,{exact:!0,path:"/profile"},r.a.createElement(ge,null)),r.a.createElement(B.b,{exact:!0,path:"/qrgenerator"},r.a.createElement(we,null)),r.a.createElement(B.b,{exact:!0,path:"/points"},r.a.createElement(Se,null)),r.a.createElement(B.b,{exact:!0,path:"/store"},r.a.createElement(Me,null)),r.a.createElement(B.b,{exact:!0,path:"/",component:Y}),r.a.createElement(B.b,{exact:!0,path:"/map",component:A}),r.a.createElement(B.b,{exact:!0,path:"/route",component:Re}),r.a.createElement(B.b,{path:"*"},r.a.createElement(xe,null))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e){e.exports=JSON.parse('{"a":[{"id":0,"name":"panader\xeda","img":"IMG/panaderia.svg"},{"id":1,"name":"alimentacion","img":"IMG/alimentacion.svg"},{"id":2,"name":"ferreteria","img":"IMG/ferreteria.svg"},{"id":3,"name":"libreria","img":"IMG/libreria.svg"},{"id":4,"name":"floristeria","img":"IMG/floristeria.svg"}]}')}},[[287,1,2]]]);
//# sourceMappingURL=main.31507803.chunk.js.map